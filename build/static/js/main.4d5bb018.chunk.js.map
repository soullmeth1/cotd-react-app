{"version":3,"sources":["helpers.js","components/Fish.js","components/Header.js","components/AddFishForm.js","components/EditFishForm.js","firebase.js","components/Login.js","components/Inventory.js","components/Order.js","sample-fishes.js","App.js","components/NotFound.js","components/StorePicker.js","components/Router.js","index.js"],"names":["formatPrice","cents","toLocaleString","style","currency","rando","arr","Math","floor","random","length","getFunName","adjectives","Fish","handleClick","props","addToOrder","index","this","fish","image","name","desc","price","isAvailable","status","className","src","alt","disabled","onClick","Component","Header","tagline","AddFishForm","React","createRef","createFish","e","current","value","preventDefault","addFish","currentTarget","reset","onSubmit","ref","type","placeholder","id","EditFishForm","handleChange","properti","input","Number","updateFish","removeFish","onChange","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","database","auth","signInGoogle","GoogleAuthProvider","signInGithub","GithubAuthProvider","signInFacebook","FacebookAuthProvider","Login","handleLogOut","signOut","then","res","console","log","catch","err","authenticate","Inventory","state","uid","owner","authHandler","authData","a","storeId","once","toJSON","data","set","user","setState","provider","signInWithPopup","logout","onAuthStateChanged","fishes","loadSampleFishes","logoutBtn","Object","keys","map","key","Order","orderIds","order","total","reduce","sum","curr","count","component","classNames","timeout","enter","exit","removeFromOrder","fish1","fish2","fish3","fish4","fish5","fish6","fish7","fish8","fish9","App","Date","now","sampleFishes","last","val","params","match","localStorageRef","localStorage","getItem","JSON","parse","on","snapshot","setItem","stringify","i","NotFound","StorePicker","myInput","goToStore","inputValue","history","push","required","defaultValue","Router","BrowserRouter","Switch","Route","exact","path","render","document","getElementById"],"mappings":"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","file":"static/js/main.4d5bb018.chunk.js","sourcesContent":["export function formatPrice(cents) {\n  return (cents / 100).toLocaleString(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\"\n  });\n}\n\nexport function rando(arr) {\n  return arr[Math.floor(Math.random() * arr.length)];\n}\n\nexport function slugify(text) {\n  return text\n    .toString()\n    .toLowerCase()\n    .replace(/\\s+/g, \"-\")\n    .replace(/[^\\w-]+/g, \"\")\n    .replace(/--+/g, \"-\")\n    .replace(/^-+/, \"\")\n    .replace(/-+$/, \"\");\n}\n\nexport function getFunName() {\n  const adjectives = [\n    \"adorable\",\n    \"beautiful\",\n    \"clean\",\n    \"drab\",\n    \"elegant\",\n    \"fancy\",\n    \"glamorous\",\n    \"handsome\",\n    \"long\",\n    \"magnificent\",\n    \"old-fashioned\",\n    \"plain\",\n    \"quaint\",\n    \"sparkling\",\n    \"ugliest\",\n    \"unsightly\",\n    \"angry\",\n    \"bewildered\",\n    \"clumsy\",\n    \"defeated\",\n    \"embarrassed\",\n    \"fierce\",\n    \"grumpy\",\n    \"helpless\",\n    \"itchy\",\n    \"jealous\",\n    \"lazy\",\n    \"mysterious\",\n    \"nervous\",\n    \"obnoxious\",\n    \"panicky\",\n    \"repulsive\",\n    \"scary\",\n    \"thoughtless\",\n    \"uptight\",\n    \"worried\"\n  ];\n\n  const nouns = [\n    \"women\",\n    \"men\",\n    \"children\",\n    \"teeth\",\n    \"feet\",\n    \"people\",\n    \"leaves\",\n    \"mice\",\n    \"geese\",\n    \"halves\",\n    \"knives\",\n    \"wives\",\n    \"lives\",\n    \"elves\",\n    \"loaves\",\n    \"potatoes\",\n    \"tomatoes\",\n    \"cacti\",\n    \"foci\",\n    \"fungi\",\n    \"nuclei\",\n    \"syllabuses\",\n    \"analyses\",\n    \"diagnoses\",\n    \"oases\",\n    \"theses\",\n    \"crises\",\n    \"phenomena\",\n    \"criteria\",\n    \"data\"\n  ];\n\n  return `${rando(adjectives)}-${rando(adjectives)}-${rando(nouns)}`;\n}\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { formatPrice } from '../helpers';\r\nclass Fish extends Component {\r\n  static propTypes = {\r\n    index: PropTypes.string,\r\n    fish: PropTypes.shape({\r\n      image: PropTypes.string,\r\n      name: PropTypes.string,\r\n      desc: PropTypes.string,\r\n      price: PropTypes.number,\r\n      status: PropTypes.string,\r\n    }),\r\n    addToOrder: PropTypes.func,\r\n  };\r\n  handleClick = () => {\r\n    this.props.addToOrder(this.props.index);\r\n  };\r\n  render() {\r\n    const { image, name, desc, price, status } = this.props.fish;\r\n    const isAvailable = status === 'available';\r\n    return (\r\n      <li className=\"menu-fish\">\r\n        <img src={image} alt={name} />\r\n        <h3 className=\"fish-name\">\r\n          {name}\r\n          <span className=\"price\">{formatPrice(price)}</span>\r\n        </h3>\r\n        <p>{desc}</p>\r\n        <button disabled={!isAvailable} onClick={this.handleClick}>\r\n          {isAvailable ? 'Add To Cart' : 'Sold Out'}\r\n        </button>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Fish;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Header = (props) => (\r\n  <header className=\"top\">\r\n    <h1>\r\n      Catch\r\n      <span className=\"ofThe\">\r\n        <span className=\"of\">Of</span>\r\n        <span className=\"the\">the</span>\r\n      </span>\r\n      Day\r\n    </h1>\r\n    <h3 className=\"tagline\">\r\n      <span>{props.tagline}</span>\r\n    </h3>\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n\r\nHeader.propTypes = {\r\n  tagline: PropTypes.string,\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass AddFishForm extends Component {\r\n  static propTypes = {\r\n    addFish: PropTypes.func,\r\n  };\r\n  name = React.createRef();\r\n  price = React.createRef();\r\n  status = React.createRef();\r\n  desc = React.createRef();\r\n  image = React.createRef();\r\n  createFish = (e) => {\r\n    const fish = {\r\n      name: this.name.current.value,\r\n      price: this.price.current.value,\r\n      status: this.status.current.value,\r\n      desc: this.desc.current.value,\r\n      image: this.image.current.value,\r\n    };\r\n    e.preventDefault();\r\n    this.props.addFish(fish);\r\n    e.currentTarget.reset();\r\n  };\r\n  render() {\r\n    return (\r\n      <form className=\"fish-edit\" onSubmit={this.createFish}>\r\n        <input ref={this.name} type=\"text\" name=\"name\" placeholder=\"Name\" />\r\n        <input ref={this.price} type=\"text\" name=\"price\" placeholder=\"Price\" />\r\n        <select name=\"status\" ref={this.status} id=\"status\">\r\n          <option value=\"available\">Fresh!</option>\r\n          <option value=\"unavailable\">Sold Out!</option>\r\n        </select>\r\n        <textarea ref={this.desc} name=\"desc\" id=\"desc\" />\r\n        <input ref={this.image} type=\"text\" name=\"image\" placeholder=\"Image\" />\r\n        <button type=\"submit\">Add Fish</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddFishForm;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass EditFishForm extends Component {\r\n  static propTypes = {\r\n    fish: PropTypes.shape({\r\n      name: PropTypes.string,\r\n      price: PropTypes.number,\r\n      status: PropTypes.string,\r\n      desc: PropTypes.string,\r\n      image: PropTypes.string,\r\n    }),\r\n    index: PropTypes.string,\r\n    updateFish: PropTypes.func,\r\n    removeFish: PropTypes.func,\r\n  };\r\n  handleChange = (e) => {\r\n    // console.log(e.currentTarget.value);\r\n    const properti = e.currentTarget.name;\r\n    const value =\r\n      properti === 'price'\r\n        ? Number(e.currentTarget.value)\r\n        : e.currentTarget.value;\r\n    const input = {\r\n      [properti]: value,\r\n    };\r\n    this.props.updateFish(this.props.index, input);\r\n  };\r\n  render() {\r\n    const { fish, index, removeFish } = this.props;\r\n    return (\r\n      <form className=\"fish-edit\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          placeholder=\"Name\"\r\n          value={fish.name}\r\n          onChange={this.handleChange}\r\n        />\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          placeholder=\"Price\"\r\n          value={fish.price}\r\n          onChange={this.handleChange}\r\n        />\r\n        <select name=\"status\" value={fish.status} onChange={this.handleChange}>\r\n          <option value=\"available\">Fresh!</option>\r\n          <option value=\"unavailable\">Sold Out!</option>\r\n        </select>\r\n        <textarea name=\"desc\" value={fish.desc} onChange={this.handleChange} />\r\n        <input\r\n          type=\"text\"\r\n          name=\"image\"\r\n          placeholder=\"Image\"\r\n          value={fish.image}\r\n          onChange={this.handleChange}\r\n        />\r\n        <button type=\"submit\" onClick={() => removeFish(index)}>\r\n          Remove Fish\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditFishForm;\r\n","import firebase from 'firebase';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyDCZ-VkkshocTUM5HyrpQyErlrombrTvHg',\r\n  authDomain: 'catch-of-the-day-a8059.firebaseapp.com',\r\n  projectId: 'catch-of-the-day-a8059',\r\n  storageBucket: 'catch-of-the-day-a8059.appspot.com',\r\n  messagingSenderId: '537737760177',\r\n  appId: '1:537737760177:web:b7fff871c001df32b84190',\r\n  measurementId: 'G-6HM5480T9L',\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.database();\r\nconst auth = firebaseApp.auth();\r\nconst signInGoogle = new firebase.auth.GoogleAuthProvider();\r\nconst signInGithub = new firebase.auth.GithubAuthProvider();\r\nconst signInFacebook = new firebase.auth.FacebookAuthProvider();\r\n\r\nexport { auth, signInFacebook, signInGoogle, signInGithub };\r\nexport default db;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { auth } from '../firebase';\r\n\r\nexport class Login extends Component {\r\n  static propTypes = {\r\n    authenticate: PropTypes.func,\r\n  };\r\n\r\n  handleLogOut = () => {\r\n    auth\r\n      .signOut()\r\n      .then((res) => console.log('logging out', res))\r\n      .catch((err) => console.log(err));\r\n  };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Login First!</h1>\r\n        <button\r\n          onClick={() => this.props.authenticate('Gighub')}\r\n          className=\"github\"\r\n        >\r\n          Login With Github\r\n        </button>\r\n        <button\r\n          onClick={() => this.props.authenticate('Google')}\r\n          className=\"twitter\"\r\n        >\r\n          Login With Google\r\n        </button>\r\n        <button\r\n          onClick={() => this.props.authenticate('Facebook')}\r\n          className=\"facebook\"\r\n        >\r\n          Login With Facebook\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AddFishForm from './AddFishForm';\r\nimport EditFishForm from './EditFishForm';\r\nimport Login from './Login';\r\nimport db, {\r\n  auth,\r\n  signInFacebook,\r\n  signInGithub,\r\n  signInGoogle,\r\n} from '../firebase';\r\n\r\nclass Inventory extends Component {\r\n  static propTypes = {\r\n    fishes: PropTypes.object,\r\n    addFish: PropTypes.func,\r\n    updateFish: PropTypes.func,\r\n    removeFish: PropTypes.func,\r\n    loadSampleFishes: PropTypes.func,\r\n    storeId: PropTypes.string,\r\n  };\r\n\r\n  state = {\r\n    uid: null,\r\n    owner: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    // const user = auth.currentUser;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user) {\r\n        // console.log(user);\r\n        this.authHandler({ user });\r\n      } else {\r\n        // console.log(err);\r\n      }\r\n    });\r\n    // console.log(user, tes);\r\n    // console.log(auth);\r\n  }\r\n\r\n  authHandler = async (authData) => {\r\n    // console.log(authData);\r\n    const data = await (\r\n      await db.ref(`${this.props.storeId}`).once('value')\r\n    ).toJSON();\r\n    if (!data.owner) {\r\n      // console.log(data);\r\n      await db.ref(`${this.props.storeId}/owner`).set(authData.user.uid);\r\n    }\r\n    this.setState({\r\n      uid: authData.user.uid,\r\n      owner: data.owner || authData.user.uid,\r\n    });\r\n  };\r\n\r\n  authenticate = (provider) => {\r\n    // console.log(this.props.storeId)\r\n    auth\r\n      .signInWithPopup(\r\n        provider === 'Facebook'\r\n          ? signInFacebook\r\n          : provider === 'Github'\r\n          ? signInGithub\r\n          : signInGoogle\r\n      )\r\n      .then(this.authHandler);\r\n  };\r\n\r\n  logout = async () => {\r\n    await auth.signOut();\r\n    this.setState({\r\n      uid: null,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      fishes,\r\n      addFish,\r\n      updateFish,\r\n      removeFish,\r\n      loadSampleFishes,\r\n    } = this.props;\r\n    const logoutBtn = <button onClick={this.logout}>Sign Out</button>;\r\n\r\n    if (!this.state.uid) {\r\n      return (\r\n        <>\r\n          <Login authenticate={this.authenticate} />\r\n          {/* <button onClick={this.authHandler}>cek</button> */}\r\n        </>\r\n      );\r\n    }\r\n    if (this.state.uid !== this.state.owner) {\r\n      return (\r\n        <div>\r\n          <p>Sorry, You are not the valid owner!</p>\r\n          {logoutBtn}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"inventory\">\r\n        <h2>Inventory</h2>\r\n        {logoutBtn}\r\n        {Object.keys(fishes).map((key) => (\r\n          <EditFishForm\r\n            key={key}\r\n            index={key}\r\n            removeFish={removeFish}\r\n            updateFish={updateFish}\r\n            fish={fishes[key]}\r\n          />\r\n        ))}\r\n        <AddFishForm addFish={addFish} />\r\n        <button onClick={loadSampleFishes}>Load Sample Fishes</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Inventory;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { formatPrice } from '../helpers';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\n\r\nclass Order extends Component {\r\n  static propTypes = {\r\n    fishes: PropTypes.object,\r\n    order: PropTypes.object,\r\n    removeFromOrder: PropTypes.func,\r\n  };\r\n  render() {\r\n    const orderIds = Object.keys(this.props.order);\r\n    const total = orderIds.reduce((sum, curr) => {\r\n      const fish = this.props.fishes[curr];\r\n      const count = this.props.order[curr];\r\n      const isAvailable = fish && fish.status === 'available';\r\n\r\n      if (isAvailable) {\r\n        return sum + count * fish.price;\r\n      }\r\n      return sum;\r\n    }, 0);\r\n    return (\r\n      <div className=\"order-wrap\">\r\n        <h2>Order</h2>\r\n        <TransitionGroup className=\"order\" component=\"ul\">\r\n          {orderIds.map((key) => {\r\n            const fish = this.props.fishes[key];\r\n            const count = this.props.order[key];\r\n            const isAvailable = fish?.status === 'available';\r\n            if (!fish) return null;\r\n            if (!isAvailable) {\r\n              return (\r\n                <li key={key}>\r\n                  Sorry, {fish ? fish.name : 'fish'} is no longer available.\r\n                </li>\r\n              );\r\n            }\r\n            return (\r\n              <CSSTransition\r\n                key={key}\r\n                classNames=\"order\"\r\n                timeout={{ enter: 250, exit: 250 }}\r\n              >\r\n                <li key={key}>\r\n                  <TransitionGroup component=\"span\" className=\"count\">\r\n                    <CSSTransition\r\n                      key={count}\r\n                      classNames=\"count\"\r\n                      timeout={{ enter: 20050, exit: 20050 }}\r\n                    >\r\n                      <span>{count}</span>\r\n                    </CSSTransition>\r\n                    {` lbs ${fish.name} ${formatPrice(count * fish.price)}`}\r\n                  </TransitionGroup>\r\n                  <button onClick={() => this.props.removeFromOrder(key)}>\r\n                    &times;\r\n                  </button>\r\n                </li>\r\n              </CSSTransition>\r\n            );\r\n          })}\r\n        </TransitionGroup>\r\n        <div className=\"total\">\r\n          Total:\r\n          <strong>{formatPrice(total)}</strong>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Order;\r\n","// This is just some sample data so you don't have to think of your own!\nconst fishes = {\n  fish1: {\n    name: \"Pacific Halibut\",\n    image: \"/images/hali.jpg\",\n    desc:\n      \"Everyoneâ€™s favorite white fish. We will cut it to the size you need and ship it.\",\n    price: 1724,\n    status: \"available\"\n  },\n\n  fish2: {\n    name: \"Lobster\",\n    image: \"/images/lobster.jpg\",\n    desc:\n      \"These tender, mouth-watering beauties are a fantastic hit at any dinner party.\",\n    price: 3200,\n    status: \"available\"\n  },\n\n  fish3: {\n    name: \"Sea Scallops\",\n    image: \"/images/scallops.jpg\",\n    desc:\n      \"Big, sweet and tender. True dry-pack scallops from the icey waters of Alaska. About 8-10 per pound\",\n    price: 1684,\n    status: \"unavailable\"\n  },\n\n  fish4: {\n    name: \"Mahi Mahi\",\n    image: \"/images/mahi.jpg\",\n    desc:\n      \"Lean flesh with a mild, sweet flavor profile, moderately firm texture and large, moist flakes. \",\n    price: 1129,\n    status: \"available\"\n  },\n\n  fish5: {\n    name: \"King Crab\",\n    image: \"/images/crab.jpg\",\n    desc:\n      \"Crack these open and enjoy them plain or with one of our cocktail sauces\",\n    price: 4234,\n    status: \"available\"\n  },\n\n  fish6: {\n    name: \"Atlantic Salmon\",\n    image: \"/images/salmon.jpg\",\n    desc:\n      \"This flaky, oily salmon is truly the king of the sea. Bake it, grill it, broil it...as good as it gets!\",\n    price: 1453,\n    status: \"available\"\n  },\n\n  fish7: {\n    name: \"Oysters\",\n    image: \"/images/oysters.jpg\",\n    desc: \"A soft plump oyster with a sweet salty flavor and a clean finish.\",\n    price: 2543,\n    status: \"available\"\n  },\n\n  fish8: {\n    name: \"Mussels\",\n    image: \"/images/mussels.jpg\",\n    desc:\n      \"The best mussels from the Pacific Northwest with a full-flavored and complex taste.\",\n    price: 425,\n    status: \"available\"\n  },\n\n  fish9: {\n    name: \"Jumbo Prawns\",\n    image: \"/images/prawns.jpg\",\n    desc:\n      \"With 21-25 two bite prawns in each pound, these sweet morsels are perfect for shish-kabobs.\",\n    price: 2250,\n    status: \"available\"\n  }\n};\n\nexport default fishes;\n","import React from 'react';\r\nimport Fish from './components/Fish';\r\nimport Header from './components/Header';\r\nimport Inventory from './components/Inventory';\r\nimport Order from './components/Order';\r\nimport db from './firebase';\r\n\r\nimport sampleFishes from './sample-fishes';\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    fishes: {},\r\n    order: {},\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { params } = this.props.match;\r\n    const localStorageRef = localStorage.getItem(params.storeId);\r\n    // console.log(localStorageRef, 'localstorage');\r\n    if (localStorageRef) {\r\n      // console.log(localStorageRef);\r\n      this.setState({ order: JSON.parse(localStorageRef) });\r\n    }\r\n    const starCountRef = db.ref(`${params.storeId}/fishes`);\r\n    starCountRef.on('value', (snapshot) => {\r\n      const data = snapshot.val();\r\n      // console.log(data, 'database');\r\n      if (data) this.setState({ fishes: data });\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(...args) {\r\n    // console.log(this.state, args[1], this.state === args[1], 'parameter');\r\n    const { params } = this.props.match;\r\n    if (Object.keys(this.state.fishes).length) {\r\n      // console.log('database saved');\r\n      db.ref(`${params.storeId}/fishes`).set(this.state.fishes);\r\n    }\r\n    // console.log(this.state.fishes, 'updatestate');\r\n    localStorage.setItem(params.storeId, JSON.stringify(this.state.order));\r\n  }\r\n\r\n  addFish = (fish) => {\r\n    const fishes = { ...this.state.fishes };\r\n    fishes[`fish${Date.now()}`] = fish;\r\n    this.setState({ fishes });\r\n  };\r\n\r\n  loadSampleFishes = () => {\r\n    this.setState({ fishes: sampleFishes });\r\n  };\r\n\r\n  addToOrder = (key) => {\r\n    const last = { ...this.state.order };\r\n    last[key] = last[key] + 1 || 1;\r\n    this.setState({\r\n      order: { ...last },\r\n    });\r\n  };\r\n\r\n  removeFromOrder = (key) => {\r\n    const last = { ...this.state.order };\r\n    delete last[key];\r\n    this.setState({\r\n      order: { ...last },\r\n    });\r\n  };\r\n\r\n  updateFish = (key, input) => {\r\n    this.setState({\r\n      fishes: {\r\n        ...this.state.fishes,\r\n        [key]: { ...this.state.fishes[key], ...input },\r\n      },\r\n    });\r\n  };\r\n\r\n  removeFish = (val) => {\r\n    const fishes = {\r\n      ...this.state.fishes,\r\n      // ...Object.keys(this.state.fishes).reduce((acc, curr) => {\r\n      //   // console.log(acc, curr);\r\n      //   return curr === val ? acc : { ...acc, [curr]: this.state.fishes[curr] };\r\n      // }, {}),\r\n    };\r\n    delete fishes[val];\r\n    // console.log(val, fishes);\r\n    this.setState({\r\n      fishes,\r\n    });\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"catch-of-the-day\">\r\n        <div className=\"menu\">\r\n          <Header tagline=\"Fresh Seafood Market\" />\r\n          <ul className=\"fishes\">\r\n            {Object.keys(this.state.fishes).map((val, i) => (\r\n              <Fish\r\n                key={val}\r\n                index={val}\r\n                fish={this.state.fishes[val]}\r\n                addToOrder={this.addToOrder}\r\n              />\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <Order\r\n          fishes={this.state.fishes}\r\n          order={this.state.order}\r\n          removeFromOrder={this.removeFromOrder}\r\n        />\r\n        <Inventory\r\n          addFish={this.addFish}\r\n          removeFish={this.removeFish}\r\n          updateFish={this.updateFish}\r\n          loadSampleFishes={this.loadSampleFishes}\r\n          fishes={this.state.fishes}\r\n          storeId={this.props.match.params.storeId}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <div>\r\n      <h1>404 Not Found</h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { getFunName } from '../helpers';\r\n\r\nclass StorePicker extends React.Component {\r\n  myInput = React.createRef();\r\n  goToStore = (e) => {\r\n    e.preventDefault();\r\n    const inputValue = this.myInput.current.value;\r\n    this.props.history.push(`/store/${inputValue}`);\r\n  };\r\n  render() {\r\n    // console.log(this);\r\n    return (\r\n      <form className=\"store-selector\" onSubmit={this.goToStore}>\r\n        <h2>Please Enter A Store</h2>\r\n        <input\r\n          ref={this.myInput}\r\n          type=\"text\"\r\n          required\r\n          placeholder=\"Store Name\"\r\n          defaultValue={getFunName()}\r\n        />\r\n        <button type=\"submit\">Visit Store</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StorePicker;\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport App from '../App';\r\nimport NotFound from './NotFound';\r\nimport StorePicker from './StorePicker';\r\n\r\nfunction Router() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route exact path=\"/\" component={StorePicker} />\r\n        <Route path=\"/store/:storeId\" component={App} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport Router from './components/Router';\r\nimport './css/style.css';\r\n\r\nrender(<Router />, document.getElementById('main'));\r\n"],"sourceRoot":""}